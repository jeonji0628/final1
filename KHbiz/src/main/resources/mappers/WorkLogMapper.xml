<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="WorkLogMapper">
  <select id="list" resultType="com.KHbiz.workLog.WorkLogDTO">
  	select * from workLog where id=#{id} and state=#{state} and reg_date like '%' || #{reg_date} || '%'  
   </select>
   
   <select id="view" resultType="com.KHbiz.workLog.WorkLogDTO">
   select * from workLog where num=#{num}
   </select>
   
   <select id="list2" resultType="com.KHbiz.workLog.WorkLogDTO">    
		select * from workLog where division=#{division} and state=#{state} and reg_date like '%' || #{reg_date} || '%' 
   </select>
   
   <update id="listUpdate" parameterType="com.KHbiz.workLog.WorkLogDTO">
   update workLog set payment_state=#{payment_state}, payment_id=#{payment_id} where num=#{num}
   </update>
   
   <delete id="delete" parameterType="java.lang.Integer">
   	delete from workLog where num=#{num}
   </delete>
   
   <insert id="write" parameterType="com.KHbiz.workLog.WorkLogDTO">
   	insert into workLog values(worklog_seq.nextVal,#{id},#{plan},#{result},#{state},#{noted},#{upload},sysdate,#{payment_state},#{payment_id},#{grade},#{division})
   </insert>
   
  <update id="update" parameterType="com.KHbiz.workLog.WorkLogDTO">
   update worklog set plan=#{plan}, result=#{result}, upload=#{upload}, noted=#{noted} where num=#{num}   
   </update>
   
   <select id="workLogUpdateForm" resultType="com.KHbiz.workLog.WorkLogDTO">
   	select * from workLog where num=#{num}
   </select>
   
   </mapper>